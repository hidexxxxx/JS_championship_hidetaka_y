<!-- <!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="resister.css">
    <title>spotlight × Cloud Garage</title>
</head>

<body>
    <header id="header">
        <div class="logo-box">
            <a href="mypage.css"><img class="brand-logo" src="xxx" alt="logo"></a>
        </div>
        <nav class="wrapper">
            <ul class="menu">
                <li class="menu-all"><a href="#">ALL</a></li>
                <li class="menu-new"><a href="#">NEW</a></li>
                <li class="menu-vintage"><a href="#">VINTAGE</a></li>
                <li class="menu-category"><a href="#">CATEGORY</a></li>
                <li class="menu-resister"><a onclick="location.href='resister.html';">RESISTER</a></li>
                <li class="menu-blog"><a href="#">BLOG</a></li>
            </ul>
            <ul class="login">
                <li class="login-login"><a onclick="location.href='login.html';">LOGIN</a></li>
                <li class="login-contact"><a href="#">CONTACT</a></li>
            </ul>
        </nav>
    </header>

    <main>



<script>
            //▼以下画像のアップロード
            function uploadImage() {
                let input = document.getElementById("imageInput");
                const file = input.files[0];
                const reader = new FileReader();

                //eはイベントオブジェクトでイベントが発生した時に自動的に生成されるオブジェクト
                reader.onload = function (e) {
                    //新しいImageオブジェクトを作成。Imageオブジェクトで画像を表示させる
                    const img = new Image();
                    //読み込んだ画像ファイルのデータを Image オブジェクトのsrcプロパティに設定
                    img.src = e.target.result;
                    // 20vh = 20% of viewport height
                    img.width = window.innerHeight * 0.3;

                    const resultDiv = document.getElementById("result");
                    resultDiv.innerHTML = "";
                    //指定された要素に新しい子要素を追加する。子要素化してグルーピングできる
                    resultDiv.appendChild(img);
                };

                //選択された画像ファイルを、FileReader オブジェクトを使用して Data URL 形式で読み込み、画像を表示
                reader.readAsDataURL(file);
            };
        </script>

        <script>
            //▼以下cloud storageへの画像アップロード
            // Firebase の設定
            const firebaseConfig = {
                apiKey: "AIzaSyDADUT7tlyvD8G-WfBpVQoUaY6fRxvvug8",
                authDomain: "jschampionship-f5265.firebaseapp.com",
                projectId: "jschampionship-f5265",
                storageBucket: "jschampionship-f5265.appspot.com",
                messagingSenderId: "171502542751",
                appId: "1:171502542751:web:0e4129428f53af19ce67aa"
            };

            // Firebase App を初期化
            firebase.initializeApp(firebaseConfig);

            // Firebase Storage の参照を作成
            const storageRef = firebase.storage().ref();

            // ファイルが選択されたときに呼び出される関数
            function uploadFile() {
                const file = document.getElementById('imageInput').files[0];
                const uploadTask = storageRef.child('users/' + file.name).put(file);
                //state_changedイベントは、アップロード処理の3つの状態（アップロード開始、進行中、完了）に
                //対応する3つのコールバック関数を受け取る
                uploadTask.on('state_changed',
                    function (snapshot) {
                        // 進行中のアップロードの状況を監視する処理
                    },
                    function (error) {
                        // エラー発生時の処理
                        console.error(error);
                    },
                    function () {
                        // アップロードが完了したときの処理
                        console.log('Upload complete');
                    });
            } -->

<!-- </script>
        <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app.js"></script>
        <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-storage.js"></script>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>

        <script type="module">
            //▼以下firestore databaseへのテキストデータアップロード
            import {
                initializeApp
            }
                from "https://www.gstatic.com/firebasejs/9.22.0/firebase-app.js";

            import {
                getFirestore,
                collection,
                addDoc,
                serverTimestamp,
                query,
                orderBy,
                onSnapshot,
            } from "https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore.js";

            const firebaseConfig = {
                apiKey: "AIzaSyDADUT7tlyvD8G-WfBpVQoUaY6fRxvvug8",
                authDomain: "jschampionship-f5265.firebaseapp.com",
                projectId: "jschampionship-f5265",
                storageBucket: "jschampionship-f5265.appspot.com",
                messagingSenderId: "171502542751",
                appId: "1:171502542751:web:0e4129428f53af19ce67aa"
            };

            // Firebase App を初期化して連携させる
            const app = initializeApp(firebaseConfig);
            //firestoreのオブジェクトを取得
            const db = getFirestore(app);

            $("#save").on("click", function () {
                // 送信時に必要な処理。

                const postData = {
                    name: $("#input-name").val(),
                    birth: $("#input-birth").val(),
                    comment: $("#input-commit").val(),
                };

                addDoc(collection(db, "user"), postData);
                $("#input-name").val("");
                $("#input-birth").val("");
                $("#input-commit").val("");
            });

            //データ取得処理

            const q = query(collection(db, "user"));

            onSnapshot(q, (querySnapshot) => {
                console.log(querySnapshot.docs);
                //複雑な形のため必要なデータのみ抽出した「オブジェクト形式の配列」に変換
                const documents = [];

                querySnapshot.forEach((doc) => {
                    console.log(doc.data());
                    const document = {
                        id: doc.id,
                        data: doc.data(),
                    };
                    documents.push(document);
                });

                const htmlElements = [];
                documents.forEach(function (document) {
                    htmlElements.push(`
                        <li id="${document.id}">
                            <p>Name: ${document.data.name}</p>
                            <p>Birth: ${document.data.birth}</p>
                            <p>comment: ${document.data.comment}</p>
                        </li>
                    `);
                });

                $("#output").html(htmlElements);
            });

        </script>

    </main>

</body>


<footer>
    <nav class="wrapper-footer">
        <ul class="menu-footer">
            <li><a href="#">初めての方へ</a></li>
            <li><a href="#">よくある質問</a></li>
            <li><a href="#">利用規約</a></li>
            <li><a href="#">特定商品取引法</a></li>
            <li><a href="#">プライバシーポリシー</a></li>
            <li><a href="#">お問い合わせ</a></li>
            <li><a href="#">会社概要</a></li>
        </ul>
    </nav>
    <h5 class="copy-rights">©️2023 Cloud Garage Co,.Ltd. All Rights Reserved</h5>
</footer>

</html> -->

<!-- <!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
 データ出力場所 -->
<!-- <ul id="output"></ul>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.6.1/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.6.1/firebase-storage.js"></script>

<script type="module">

    import {
        initializeApp
    }
        from "https://www.gstatic.com/firebasejs/9.22.0/firebase-app.js";

    import {
        getFirestore,
        collection,
        addDoc,
        serverTimestamp,
        query,
        orderBy,
        onSnapshot,
    } from "https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore.js";

    const firebaseConfig = {
        apiKey: "AIzaSyDADUT7tlyvD8G-WfBpVQoUaY6fRxvvug8",
        authDomain: "jschampionship-f5265.firebaseapp.com",
        projectId: "jschampionship-f5265",
        storageBucket: "jschampionship-f5265.appspot.com",
        messagingSenderId: "171502542751",
        appId: "1:171502542751:web:0e4129428f53af19ce67aa"
    };

    //firebaseSDKを初期化してアプリとfirebaseプロジェクトを紐づける(アプリとプロジェクトが繋がる)
    const app = initializeApp(firebaseConfig);
    //初期化されたfirebaseからfirestoreのデータベースを取得
    const db = getFirestore(app);

    //データ取得処理
    const q = query(collection(db, "user"), orderBy("time", "desc"));

    onSnapshot(q, (querySnapshot) => {
        console.log(querySnapshot.docs);
        //複雑な形のため必要なデータのみ抽出した「オブジェクト形式の配列」に変換
        const documents = [];
        querySnapshot.docs.forEach(function (doc) {
            const document = {
                id: doc.id,
                data: doc.data(),
            };
            documents.push(document);
        });
        console.log(documents);

        const htmlElements = [];
        documents.forEach(function (document) {
            htmlElements.push(`
            <li id="${document.id}">
                <p>Name: ${document.data.name}</p>
                <p>Birth: ${document.data.birth}</p>
                <p>comment: ${document.data.comment}</p>
            </li>
          `);
        });
        $("#output").html(htmlElements);
    });
</script> -->

<!-- HTMLの要素
<div id="imageContainer"></div>

JavaScript
<script src="https://www.gstatic.com/firebasejs/8.6.1/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.6.1/firebase-storage.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
 <script>
    // Firebaseの設定
    const firebaseConfig = {
        // Firebaseの設定情報
        apiKey: "AIzaSyDADUT7tlyvD8G-WfBpVQoUaY6fRxvvug8",
        authDomain: "jschampionship-f5265.firebaseapp.com",
        projectId: "jschampionship-f5265",
        storageBucket: "jschampionship-f5265.appspot.com",
        messagingSenderId: "171502542751",
        appId: "1:171502542751:web:0e4129428f53af19ce67aa"
    };

    // Firebase App を初期化
    firebase.initializeApp(firebaseConfig);

    // Firebase Storage の参照を作成
    const storageRef = firebase.storage().ref();

    // 画像を表示するための関数
    function displayImage() {
        // 画像ファイルのパス
        const imagePath = 'gs://jschampionship-f5265.appspot.com/users/_cc9646b7-7008-4b15-a6f0-0282445329a9.jpeg';

        // 画像のURLを取得
        storageRef.child(imagePath).getDownloadURL()
            .then(function (url) {
                // 画像を表示する要素
                const imageContainer = document.getElementById('imageContainer');

                // 画像要素を作成して表示
                const img = document.createElement('img');
                img.src = url;
                imageContainer.appendChild(img);
            })
            .catch(function (error) {
                console.error('Error getting image URL: ', error);
            });
    }

    // ページ読み込み時に画像を表示
    window.onload = displayImage; -->

<!-- </script> -->



<!-- <!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <title>Upload Profile Image</title>
</head>

<body>
    <h1>Upload Profile Image</h1>
    <input type="file" id="fileButton">
    <br>
    <button onclick="uploadFile()">Upload</button>
    <script src="https://www.gstatic.com/firebasejs/8.6.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.6.1/firebase-storage.js"></script>
    <script>
        // Firebase の設定
        const firebaseConfig = {
            apiKey: "API_KEY",
            authDomain: "AUTH_DOMAIN",
            projectId: "PROJECT_ID",
            storageBucket: "STORAGE_BUCKET",
            messagingSenderId: "MESSAGING_SENDER_ID",
            appId: "APP_ID"
        };

        // Firebase App を初期化
        firebase.initializeApp(firebaseConfig);

        // Firebase Storage の参照を作成
        const storageRef = firebase.storage().ref();

        // ファイルが選択されたときに呼び出される関数
        function uploadFile() {
            const file = document.getElementById('fileButton').files[0];
            const uploadTask = storageRef.child('users/' + file.name).put(file);
            uploadTask.on('state_changed',
                function (snapshot) {
                    // 進行中のアップロードの状況を監視する処理
                },
                function (error) {
                    // エラー発生時の処理
                    console.error(error);
                },
                function () {
                    // アップロードが完了したときの処理
                    console.log('Upload complete');
                }
            );
        }
    </script>
</body>

</html>
 -->




<!-- <div class="profile-photo">
    <input type="file" id="imageInput">
    <button type="button" onclick="uploadImage()">アップロード</button>
    <div id="result"></div>
</div>
 -->

<!-- <script>
    function uploadImage() {
        let input = document.getElementById("imageInput");
        const file = input.files[0];
        const reader = new FileReader();

        //eはイベントオブジェクトでイベントが発生した時に自動的に生成されるオブジェクト
        reader.onload = function (e) {
            //新しいImageオブジェクトを作成。Imageオブジェクトで画像を表示させる
            const img = new Image();
            //読み込んだ画像ファイルのデータを Image オブジェクトのsrcプロパティに設定
            img.src = e.target.result;

            const resultDiv = document.getElementById("result");
            resultDiv.innerHTML = "";
            //指定された要素に新しい子要素を追加する。子要素化してグルーピングできる
            resultDiv.appendChild(img);
        };

        //選択された画像ファイルを、FileReader オブジェクトを使用して Data URL 形式で読み込み、画像を表示
        reader.readAsDataURL(file);
    }
</script> -->



<!-- <!DOCTYPE html>
<html>

<head>
    <title>画像アップロード</title>
</head>

<body>
    <form>
        <input type="file" id="imageInput">
        <button type="button" onclick="uploadImage()">アップロード</button>
    </form>
    <div id="result"></div>

    <script>
        function uploadImage() {
            let input = document.getElementById("imageInput");
            const file = input.files[0];
            const reader = new FileReader();

            reader.onload = function (e) {
                const img = new Image();
                img.src = e.target.result;

                const resultDiv = document.getElementById("result");
                resultDiv.innerHTML = "";
                resultDiv.appendChild(img);
            };

            reader.readAsDataURL(file);
        }
    </script>
</body>

</html>




<!DOCTYPE html>
<html>

<head>
    <title>画像アップロード</title>
</head>

<body>
    <form>
        <input type="file" id="imageInput">
        <button type="button" onclick="uploadImage()">アップロード</button>
    </form>
    <div id="result"></div>

    <script>
        function uploadImage() {
            var input = document.getElementById("imageInput");
            var file = input.files[0];
            var reader = new FileReader();

            reader.onload = function (e) {
                var img = new Image();
                img.src = e.target.result;

                var resultDiv = document.getElementById("result");
                resultDiv.innerHTML = "";
                resultDiv.appendChild(img);
            };

            reader.readAsDataURL(file);
        }
    </script>
</body>

</html> -->